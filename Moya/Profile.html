<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>UmtuWam</title>
    <link rel="stylesheet" href="./Profile.css" type="text/css">
</head>

<body>
    <script>
        fetch('http://localhost:5001/umtuwam/us-central1/getUserInformation')
            .then(res => res.json())
            .then((out) => {
                var name = document.getElementById("name");
                name.setAttribute("value", out.name);

                var age = document.getElementById("age");
                age.setAttribute("value", out.age);

                var location = document.getElementById("location");
                location.setAttribute("value", out.location);

                var bio = document.getElementById("bio");
                bio.setAttribute("value", out.bio);
            }).catch(err => console.error(err));

        function validateThis() {
            var checkboxes = document.getElementsByName("lookingFor");
            var okay = false;
            for (var i = 0, l = checkboxes.length; i < l; i++) {
                if (checkboxes[i].checked) {
                    okay = true;
                    break;
                }
            }
            if (!okay) {
                alert("please select box");
                event.preventDefault();
            } else {

            }
        }
    </script>
    <div>
        <hr>
        <h2>Your profile - make it complete!</h2>
        <hr>
    </div>
    <form id="form" action="http://localhost:5001/umtuwam/us-central1/updateUserInformation" onsubmit="validateThis();"
        method="get">
        <div>
            <p>
                <label>Name:
                    <input type="text" id="name" name="name" pattern="^([A-Za-z]+[,.]?[ ]?|[A-Za-z]+['-]?)+$" required>
                </label>
            </p>
            <p>
                <label>Age:
                    <input type="text" id="age" name="age" pattern="[0-9]+" required>
                </label>
            </p>
            <p>
                <label>Location:
                    <select name="location" id="location" required>
                        <option value="" disabled selected>Select your location</option>
                        <option value="Bloemfontein">Bloemfontein</option>
                        <option value="Cape Town">Cape Town</option>
                        <option value="Durban">Durban</option>
                        <option value="Johannesburg">Johannesburg</option>
                        <option value="Kimberley">Kimberley</option>
                        <option value="Nelspruit">Nelspruit</option>
                        <option value="PE">PE</option>
                        <option value="Polokwane">Polokwane</option>
                        <option value="Pretoria">Pretoria</option>
                        <option value="Soweto">Soweto</option>
                    </select>
                </label>
            </p>
            <p>
                <label>About me:
                    <textarea class="bio" id="bio" maxlength="255" name="bio" rows="5"></textarea>
                </label>
            </p>
            <p>
                <label>Looking for a:
                    <input id="female" type="checkbox" name="lookingFor" value="Woman">
                    <label for="female">Woman</label>
                    <input id="male" type="checkbox" name="lookingFor" value="Woman">
                    <label for="male">Man</label>
                </label>
            </p>
            <!-- <label>Ages:</label>
            <input class="age" type="text" id="ageFrom" name="ageFrom" pattern="[0-9]+" required>
            <label>to:</label>
            <input class="age" type="text" id="ageTo" name="ageTo" pattern="[0-9]+" required> -->
        </div>
        <button type="button">Add your photos</button>
        <a href="http://localhost:5001/umtuwam/us-central1/getMembershipPageXML" class="membership">Membership (chat and more)</a>
        <button type="submit" id="checkBtn">Save changes</button>
    </form>
</body>

</html>